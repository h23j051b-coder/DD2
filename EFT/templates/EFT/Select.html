{% extends "global/Page.html" %}
{% load otree %}

{% block title %}
目標（または手段）の選択
{% endblock %}

{% block content %}
<style>
.delay-card {
    border: 1px solid #ddd;
    border-radius: 12px;
    padding: 12px;
    margin-bottom: 16px;
    background: #fdfdfd;
}
.delay-title { font-weight: bold; margin-bottom: 8px; }
.otree-radio-select { display:block !important; }
.otree-radio-select label { display:block; padding:8px; margin-bottom:4px; border-radius:8px; border:1px solid #eee; background:#fafafa; }
</style>

<p>
    {% if group == "関連" %}
        <b>以下の遅延期間について、1万円を獲得するための手段をそれぞれ一つずつ選んでください。</b>
    {% else %}
        <b>以下の遅延期間について、あなたが達成できる目標をそれぞれ一つずつ選んでください。</b>
    {% endif %}
</p>

<!-- ★★ 教示①：遅延の意味に関する説明を追加 ★★ -->
<p style="color:#444; margin-top:12px; margin-bottom:16px;">
    ※ここでの目標は「〇〇以内に達成する」ものではなく、<br>
    <b>「今から約〇〇後に達成する」ことを想定しています。</b>
</p>

<hr>

<form method="post">

  {% for item in goal_list %}
  <div class="delay-card">
      {% if group == "関連" %}
          <div class="delay-title">{{ item.delay }} ― 1万円を獲得するための手段</div>
      {% else %}
          <div class="delay-title">{{ item.delay }} ― あなたが達成できる目標</div>
      {% endif %}

      {% if item.options %}
        {% for opt in item.options %}
          <label>
            <input type="radio" name="goal_{{ item.idx }}" value="{{ opt }}" required>
            {{ opt }}
          </label>
        {% endfor %}
      {% else %}
        <p><em>現在、この遅延に対する候補が設定されていません。</em></p>
      {% endif %}
  </div>
  {% endfor %}

  <!-- ★★ 教示②：回答確定に関する警告を追加 ★★ -->
  <p style="margin-top: 24px; font-weight: bold; color:#b22222;">
      「次へ」を押すと回答の変更はできません。<br>
      <b>内容を確認し、確定する場合のみ「次へ」を押してください。</b>
  </p>

  {{ next_button }} 
</form>

<style>
label {
    display: block;
    margin-bottom: 8px;
}
input[type="radio"] {
    margin-right: 6px;
}
</style>

{% endblock %}